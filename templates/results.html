{% extends "base.html" %}
{% block content %}
<div class="results-container">
    <h1 class="results-title">
        Search Results for "<span>{{ query }}</span>"
    </h1>

    {% if results %}
    <div class="results-list">
        {% for result in results %}
        <div class="product-card">
            <!-- Left: Image -->
            {% if result['image'] and result['image'] != "N/A" %}
            <img src="{{ result['image'] }}" alt="Product Image" class="product-image">
            {% else %}
            <div class="product-placeholder">No Image</div>
            {% endif %}

            <!-- Right: Details -->
            <div class="product-details">
                <h3 class="site-name">{{ result['site'] }}</h3>
                <p class="product-name">{{ result['name'] }}</p>
                <p class="product-price">Price: {{ result['price'] }}</p>

                {% if result['rating'] %}
                <p class="product-rating">⭐ {{ result['rating'] }}</p>
                {% else %}
                <p class="product-rating muted">⭐ N/A</p>
                {% endif %}

                <a href="{{ result['link'] }}" target="_blank" class="view-btn">View Product</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="no-results">No results found</p>
    {% endif %}
</div>
{% endblock %}